define("loadmore",["jquery"],function(t,e,n){var a=jQuery=t("jquery");a.fn.loadMore=function(t){var e={nextUrl:null,additionData:null,classnameLock:"",success:null,error:null,selector:""},n=a.extend(e,t);return this.each(function(){function t(){s=!0,o.addClass(c)}function e(){s=!1,o.removeClass(c)}function r(){return s}var o=a(this),s=!1,l=n.nextUrl||o.attr("data-selector"),i=n.nextUrl||o.attr("data-nextUrl"),u=n.additionData||o.attr("data-addition"),c=(l?o.find(l):o,n.classnameLock||o.attr("data-lockClassname")),d=n.error||function(){alert("加载完毕，已没有更多数据")},f=n.success||function(t){if(!t.code){var e=t.data,n=e.html;return a(n).insertBefore(o),e.nextUrl?(o.attr("data-nextUrl",e.nextUrl),i=e.nextUrl):(o.attr("data-nextUrl",""),o.remove()),!0}return t.code?(alert(t.msg?t.msg:"加载完毕，已没有更多数据"),!1):!0}||n.success;o.click(function(){return r()?!1:i?(t(),a.ajax({url:i,type:"get",dataType:window.DEBUG_TEST_DATA?"json":"jsonp",timeout:8e3,data:{addition:u},error:function(){d.apply(this,arguments),e()},success:function(t){f.apply(this,arguments),e()}}),!1):(o.hide(),!1)})})},"undefined"!=typeof n&&n.exports&&(n.exports=a)});