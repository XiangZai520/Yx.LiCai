define("login",["jquery","gxdialog"],function(a,n,e){function o(a){r.gxDialog({title:"",width:280,closeBtn:!1,info:'<div class="pop-box"><p class="warning-color">'+a+"</p></div>",ok:function(){}})}{var r=jQuery=a("jquery");a("gxdialog")}r.gxDialog.defaults.background="#000";var t=/^[0-9a-zA-Z_/]{6,16}$/,i=/^[0-9]{4}$/,s=/^.{6,16}$/;r("#randomCode").on("input propertychange",function(){r("#regBtn").unbind("click");var a=r("#logPassword").val().replace(/[ ]/g,""),n=r("#randomCode").val().replace(/[ ]/g,"");""!=n&&i.test(n)&&""!=a&&s.test(a)?(r("#regBtn").removeClass("ui-btn-gray"),r("#regBtn").bind("click",function(){var a=r("#randomCode").val().replace(/[ ]/g,""),n=r("#logPassword").val();return""==a?(o("请输入验证码"),!1):i.test(a)?""==n?(o("请输入登录密码"),!1):t.test(n)?void r.ajax({type:"POST",async:!1,url:"/Login/CheckLogin",data:{password:n,Phone:dianhua,RandomCode:a},success:function(a){return 0==a.Status?(window.location.href="/Member/",!0):(o(a.Message),!1)},error:function(a,n,e){}}):(o("密码输入格式错误，请修改"),!1):(o("验证码输入错误，请修改"),!1)})):(r("#regBtn").addClass("ui-btn-gray"),r("#regBtn").unbind("click"))}),r("#logPassword").on("input propertychange",function(){r("#regBtn").unbind("click");var a=r("#logPassword").val().replace(/[ ]/g,""),n=r("#randomCode").val().replace(/[ ]/g,"");""!=a&&s.test(a)&&""!=n&&i.test(n)?(r("#regBtn").removeClass("ui-btn-gray"),r("#regBtn").bind("click",function(){var a=r("#randomCode").val().replace(/[ ]/g,""),n=r("#logPassword").val();return""==a?(o("请输入验证码"),!1):i.test(a)?""==n?(o("请输入登录密码"),!1):t.test(n)?void r.ajax({type:"POST",async:!1,url:"/Login/CheckLogin",data:{password:n,Phone:dianhua,RandomCode:a},success:function(a){return 0==a.Status?(window.location.href="/Member/",!0):(o(a.Message),!1)},error:function(a,n,e){}}):(o("密码输入格式错误，请修改"),!1):(o("验证码输入错误，请修改"),!1)})):r("#regBtn").addClass("ui-btn-gray")}),r(document).ready(function(){r("#regBtn").addClass("ui-btn-gray"),r("#randomCode").val(""),r("#logPassword").val(""),r("img.captcha").click(function(){r(this).attr("src","/Login/CaptchaImage?a="+(new Date).getTime())})})}),seajs.use("login");