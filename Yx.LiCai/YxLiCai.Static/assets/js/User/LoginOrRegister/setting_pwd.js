define("setting_pwd",["jquery","gxdialog"],function(e,t,n){function s(e){o.gxDialog({title:"",width:280,closeBtn:!1,info:'<div class="pop-box"><p class="warning-color">'+e+"</p></div>",ok:function(){}})}function a(){function e(t){window.setTimeout(function(){t--,t>0?(o(".cd-time").html(t),e(t)):(o.gxDialog.close(),window.location.href="/Login/RegisteredOrLogin")},1e3)}o.gxDialog({title:"",width:280,closeBtn:!1,info:'<div class="pop-box"><h3>修改成功</h3><p>您的密码已修改成功<p><div class="cd-time">3</div></div>'});var t=3;e(t)}{var o=jQuery=e("jquery");e("gxdialog")}o.gxDialog.defaults.background="#000";var i=/^[0-9a-zA-Z_/]{6,16}$/,r=/^.{6,16}$/;o("#regPassword").on("input propertychange",function(){o("#nextBtn").unbind("click");var e=o("#regPassword").val();""!=e&&r.test(e)?(o("#nextBtn").removeClass("ui-btn-gray"),o("#nextBtn").bind("click",function(){var e=o("#regPassword").val();return""==e?(s("请输入密码"),!1):i.test(e)?""==Code?(s("手机验证码不正确！"),!1):void o.ajax({type:"POST",async:!1,url:"/Login/UpdateUserPassWord",data:{Code:Code,password:e,Phone:dianhua},success:function(e){return 0==e.Status?(event.preventDefault(),a(),!0):(s(e.Message),!1)},error:function(e,t,n){}}):(s("密码格式错误，请修改为6-16位字母、数字、下划线组合"),!1)})):o("#nextBtn").addClass("ui-btn-gray")}),o(document).ready(function(){o("#nextBtn").addClass("ui-btn-gray"),o("#regPassword").val("")}),o(".show-pwd").on("click",function(e){e.preventDefault();var t=o(this),n=t.hasClass("yes-pwd");n?(t.removeClass("yes-pwd"),o("#regPassword").attr("type","password")):(t.addClass("yes-pwd"),o("#regPassword").attr("type","tel"))})}),seajs.use("setting_pwd");