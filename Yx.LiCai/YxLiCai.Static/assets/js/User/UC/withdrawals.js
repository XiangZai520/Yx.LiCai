define("withdrawals",["jquery","gxdialog"],function(e,a,n){function t(e){r.gxDialog({title:"",width:280,closeBtn:!1,info:'<div class="pop-box"><p class="warning-color">'+e+"</p></div>",ok:function(){}})}{var r=jQuery=e("jquery");e("gxdialog")}r.gxDialog.defaults.background="#000",r("#fetch_pwd_setting").on("click",function(){var e=r("#moneyNum").val();window.location.href="/UserSetting/fetch_pwd_setting?returnUrl=/Member/Withdrawals?buyMoney="+e}),r("#forget_SPFist_pwd").on("click",function(){var e=r("#moneyNum").val();window.location.href="/UserSetting/forget_SPFist_pwd?returnUrl=/Member/Withdrawals?buyMoney="+e}),r("#moneyNum").on("input propertychange",function(){r("#regBtn").unbind("click");var e=r("#WithdrawalsCount").val(),a=r("#moneyNum").val();a=a.replace(/[^\d.]/g,""),a=a.replace(/^\./g,""),a=a.replace(/\.{2,}/g,"."),a=a.replace(".","$#$").replace(/\./g,"").replace("$#$","."),a=a.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),r("#moneyNum").val(a),""==a||parseFloat(a)<=0||parseInt(e)<=0?(r("#regBtn").addClass("ui-btn-gray"),r("#regBtn").unbind("click")):(r("#regBtn").removeClass("ui-btn-gray"),r("#regBtn").on("click",function(){r("#sallpwd").val("");var e=r("#smoney").val(),a=r("#moneyNum").val();return""==a.replace(/[ ]/g,"")?!1:parseFloat(e)<parseFloat(a)?(t("提现金额不足，请修改"),!1):(r("#sallmoney").html("<span>"+a+"</span>元"),r.gxDialog({title:"",width:280,info:document.getElementById("J_buyPwd")}),void r("#sallpwd").focus())}))}),r(document).ready(function(){r("#regBtn").addClass("ui-btn-gray");var e=r("#moneyNum").val();(""!=e||parseFloat(e)>0)&&(r("#regBtn").removeClass("ui-btn-gray"),r("#regBtn").on("click",function(){var e=r("#smoney").val(),a=r("#moneyNum").val();return""==a.replace(/[ ]/g,"")?!1:parseFloat(e)<parseFloat(a)?(t("提现金额不足，请修改"),!1):(r("#sallmoney").html("提现:<span>"+a+"</span>元"),r.gxDialog({title:"",width:280,info:document.getElementById("J_buyPwd")}),void r("#sallpwd").focus())})),r("#okbuy").click(function(){r("#okbuy").hide(),r.gxDialog.close(),r("#okbuy").show();var e=r("#smoney").val(),a=r("#moneyNum").val();if(""==a.replace(/[ ]/g,""))return t("请输入提现金额"),!1;if(parseFloat(a)<.01)return t("提现金额需大于0.01元"),!1;if(parseFloat(e)<parseFloat(a))return t("提现金额不足，请修改"),!1;if(parseFloat(a)>5e4)return t("每天最多提现金额为50000元，请修改"),!1;var n=r("#sallpwd").val();return""==n.replace(/[ ]/g,"")?(t("请输入交易密码"),!1):void r.ajax({type:"POST",async:!1,url:"/Member/UserWithdrawals",data:{money:a,sallpwd:n},success:function(e){return e.IsSuccess?void(window.location.href="/Member/WithdrawalsSuccess?money="+a):(t(e.Message),!1)},error:function(e,a,n){}})}),r("#WithdrawalUrl").on("click",function(){var e=r("#IsRealCard").val(),a=r("#IsBindBank").val();0==e&&r.gxDialog({title:"请先进行身份认证",info:"",buttons:[{text:"确认",callback:function(){window.top.location="/UserSetting/uc_setting_status?returnUrl=/Member/Withdrawals"}}],baseClass:"ios"}),0!=e&&0==a&&r.gxDialog({title:"请先绑定银行卡",info:"",buttons:[{text:"确认",callback:function(){window.top.location="/UserSetting/add_bank?returnUrl=/Member/Withdrawals"}}],baseClass:"ios"}),0!=e&&0!=a&&(window.location.href="/Member/Withdrawals")})})}),seajs.use("withdrawals");