define("forget_SPFist_pwd",["jquery","gxdialog"],function(e,r,t){function n(e){a.gxDialog({title:"",width:280,closeBtn:!1,info:'<div class="pop-box"><p class="warning-color">'+e+"</p></div>",ok:function(){}})}function o(e){for(var r=0,t=0;t<e.length;t++){var n=e.charCodeAt(t);n>=1&&126>=n||n>=65376&&65439>=n?r++:r+=2}return r}var a=jQuery=e("jquery"),i=(e("gxdialog"),a("#returnUrl").val());a.gxDialog.defaults.background="#000",a("#manCode").keyup(function(){var e=o(a("#manCode").val().replace(/[ ]/g,""));15==e||18==e?(a("#btnNext").hide(),a("#btnNextok").show()):(a("#btnNext").show(),a("#btnNextok").hide())}),a("#btnNextok").click(function(){var e=a("#manCode").val().replace(/[ ]/g,""),r=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(""==e&&n("请输入身份证"),!r.test(e))return void n("身份证号码错误，请修改");if(len=e.length,15==len){if(year="19"+e.substr(6,2),year>2015||year<1900)return void n("身份证号码错误，请修改")}else if(18==len&&(year=e.substr(6,4),year>2015||year<1900))return void n("身份证号码错误，请修改");a.ajax({type:"POST",async:!1,url:"/UserSetting/CheckIDCardTrue",data:{IdCard:e},success:function(e){return 1!=e.Status?(n(e.Message),!1):void(window.location.href=""!=i?"/UserSetting/forget_SP_pwd?returnUrl="+i:"/UserSetting/forget_SP_pwd")},error:function(e,r,t){}})})}),seajs.use("forget_SPFist_pwd");